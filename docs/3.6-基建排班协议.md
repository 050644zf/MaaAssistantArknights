# 基建排班协议

## 完整字段一览

```jsonc
{
    "name": "小号的换班方案",        // 作业名，可选
    "description": "哈哈哈哈",      // 作业描述，可选
    "plans": [
        {
            "name": "早班",         // 计划名，可选
            "description": "lol",   // 计划描述，可选
            "period": [             // 换班时间段，可选。
                                    // 若当前时间在该区间内，则自动选择该计划（整个 json 文件中可能包含多个计划）
                [
                    "00:30",        // 要求格式 hh:mm
                    "12:00"
                ],
                [
                    "23:30",
                    "00:00"
                ]
            ],
            "duration": 360,        // 工作持续时长（分钟），保留字段，目前无作用。以后可能到时间了弹窗提醒该换班了，或者直接自动换了
            "Fiammetta": "巫恋",    // “菲亚梅塔” 为哪位干员使用，可选
            "drones": {             // 无人机使用，可选，不填写则不使用无人机
                "room": "trading",  // 为哪个类型房间使用，取值范围 "trading" / "manufacture"
                "index": 0,         // 为第几个该类型房间使用
                "rule": "ALL"       // 使用规则，保留字段，目前无作用。以后可能拿来支持插拔等操作
            },
            "rooms": {              // 房间信息，必选
                                    // 取值范围 "control" / "manufacture" / "trading" / "power" / "meeting" / "hire" / "dormitory"
                                    // 缺少某个则不对该设施进行换班
                "control": [
                    {
                        "operators": [
                            "夕",   // 使用 OCR 进行，需要传入对应客户端语言的干员名
                            "令",
                            "凯尔希",
                            "阿米娅",
                            "玛恩纳"
                        ]
                    }
                ],
                "manufacture": [
                    {
                        "operators": [
                            "芬",
                            "稀音",
                            "克洛丝"
                        ]
                    },
                    {
                        "operators": [
                            "Castle-3"
                        ],
                        "autofill": true,   // 使用原先的算法，自动填充剩下的位置，可选，默认 false
                                        // 若 operators 为空，则该房间完整的使用原先算法进行排班
                                        // 若 operators 不为空，将仅考虑单干员效率，而不考虑整个组合效率
                                        // 注意可能和后面自定义的干员产生冲突，比如把后面需要的干员拿到这里用了，请谨慎使用，或将 autofill 的房间顺序放到最后
                        "product": "battle_record"  // 当前制造产物，可选。
                                                    // 若识别到当前设施与作业中设置的产物不符合，界面会弹个红色字样提示，以后可能有更多作用
                    },
                    {
                        "operators": [
                            "多萝西"
                        ],
                        "candidates": [ // 备选干员，可选。这里面的有谁用谁，选满为止
                                        // 与 autofill=true 不兼容，即该数组不为空时，autofill 需要为 false
                            "星源",
                            "白面鸮",
                            "赫默"
                        ]
                    }
                ],
                "meeting": [
                    {
                        "autofill": true // 这个房间全部 autofill
                    }
                ]
            }
        },
        {
            "name": "晚班"
            // ...
        }
    ]
}
```
