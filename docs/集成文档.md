# 集成文档

## 接口介绍

### `AsstAppendTask`

#### 接口原型

```c++
TaskHandle ASSTAPI AsstAppendTask(AsstHandle handle, const char* type, const char* params);
```

#### 接口说明

添加任务

#### 返回值

- `TaskHandle`  
    若添加成功，返回该任务句柄，可用于后续设置任务参数；  
    若添加失败，返回 `NULL`

#### 参数说明

- `AsstHandle handle`  
    实例句柄
- `const char* type`  
    任务类型
- `const char* params`  
    任务参数，json string

##### 字段举例

- `StartUp`  
    开始唤醒

```jsonc
{
    // 不支持参数设置
}
```

- `Fight`  
    刷理智

```jsonc
{
    "stage": string, // 关卡名，可选，默认“当前关卡”。不支持运行中设置
    "mecidine": int, // 最大使用理智药数量，可选，默认 0
    "stone": int,    // 最大吃石头数量，可选，默认 0
    "times": int,    // 指定次数，可选，默认无穷大
}
```

### `AsstSetParam`

#### 接口原型

```c++
bool ASSTAPI AsstSetParam(AsstHandle handle, const char* param_id, const char* param_value);
```

#### 接口说明

设置实例级参数

#### 返回值

- `bool`  
    返回是否设置成功

#### 参数说明

- `AsstHandle handle`  
    实例句柄
- `const char* param_id`  
    参数 id
- `const char* param_value`  
    参数值，json string

| 参数作用 | 参数 id | 参数值 | 参数值示例 |
| ------- | ------- | ----- | -------- |
| 设置企鹅数据 id | `penguin_id` | { "id" : string } | `{ "id" : "1234567" }` |
| 设置 OCR 任务目标 | `ocr_text` | { TaskName: [ string, ... ] } | `{ "Roguelike1ChooseOper" : [ "帕拉斯", "银灰" ] }`<br>`{ "CreditShop-NotToBuy" : [ "碳", "家具" ] }` |
